<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:include="~{fragments/head}">
    </th:block>
</head>
<body>
	<header>
		<th:block th:include="~{fragments/nav}">
    	</th:block>
	</header>
    <main>
    <div class="container-fluid">
            <div class="mt-3 col-md-3">
            	<h1>Deck: <span th:text="${deck.name}"></span></h1>
            	<hr>
            	<div class="d-flex justify-content-between">
            		<th:block th:if="${not defense}">
	            	<form id="set-defense" th:action="@{/set-defense/{id}(id=${deckId})}" method="post">
			            <button form="set-defense" class="btn btn-success" type="submit" id="button-addon2">DEFENSE</button>
			        </form>
				    </th:block>
				    <th:block th:if="${not attack}">
			            <form id="set-attack" th:action="@{/set-attack/{id}(id=${deckId})}" method="post">
				           	<button form="set-attack" class="btn btn-warning" type="submit" id="button-addon2">ATTACK</button>
				        </form>
				    </th:block>
		            <form th:if="${deck.name} != 'StartDeck'" th:action="@{/decks/remove-deck/{id}(id=${deckId})}" method="post">
						<button class="btn btn-danger" type="submit" id="button-addon2">REMOVE</button>
		            </form>
            	</div>
	            <hr>
            </div>
			<div class="cards-data">
					<div class="cards-row d-flex justify-content-center">
					<th:block th:if="${#lists.isEmpty(cards)}">
	    					<h1 th:text="|No cards in ${deck.name}|"></h1>
	    			</th:block>
	    			<th:block th:if="${not #lists.isEmpty(cards)}">
	    				<div class="card-deck">
	    				<th:block th:each="card, iter: ${cards}">
		    				<th:block th:switch="${card.rarity}">
		    					<div th:case="Common" class="card" style="-webkit-transform: scale(0.8, 0.8); border-width:8px !important; border-color: grey !important">
		    						<img th:src="${card.url}" style="width: 17rem; height: 12rem;" class="card-img-top img-thumbnail px-auto" alt="Card Image">
						        	<div class="card-body">
								    	<h5 class="card-title" th:text="${card.name}"></h5>
								        <hr>
								        <p class="card-text text-center">
								        	<span class="bg-danger rounded p-1" th:text="|Attack: ${card.power}|"></span>
								        	<span class="bg-success rounded p-1" th:text="|Defense: ${card.defense}|"></span>
								        </p>
								        <hr>
								  		<form th:if="${card.name} != 'Dao' and ${card.name} != 'Da' or ${deck.name} != 'StartDeck'" th:action="@{/decks/remove-from-deck/{card}/{deck}(card=${card.name}, deck=${deckId})}" method="post">
								  			<div class="text-center"><button class="btn bg-warning">REMOVE</button></div>
								  		</form>
							        </div>
		    					</div>
		    					<div th:case="Uncommon" class="card" style="-webkit-transform: scale(0.8, 0.8); border-width:8px !important; border-color: green !important">
		    						<img th:src="${card.url}" style="width: 17rem; height: 12rem;" class="card-img-top img-thumbnail px-auto" alt="Card Image">
						        	<div class="card-body">
								    	<h5 class="card-title" th:text="${card.name}"></h5>
								        <hr>
								        <p class="card-text text-center">
								        	<span class="bg-danger rounded p-1" th:text="|Attack: ${card.power}|"></span>
								        	<span class="bg-success rounded p-1" th:text="|Defense: ${card.defense}|"></span>
								        </p>
								        <hr>
								  		<form th:action="@{/decks/remove-from-deck/{card}/{deck}(card=${card.id}, deck=${deckId})}" method="post">
								  			<div class="text-center"><button class="btn bg-warning">REMOVE</button></div>
								  		</form>
							        </div>
		    					</div>
		    					<div th:case="Rare" class="card" style="-webkit-transform: scale(0.8, 0.8); border-width:8px !important; border-color: purple !important">
		    						<img th:src="${card.url}" style="width: 17rem; height: 12rem;" class="card-img-top img-thumbnail px-auto" alt="Card Image">
						        	<div class="card-body">
								    	<h5 class="card-title" th:text="${card.name}"></h5>
								        <hr>
								        <p class="card-text text-center">
								        	<span class="bg-danger rounded p-1" th:text="|Attack: ${card.power}|"></span>
								        	<span class="bg-success rounded p-1" th:text="|Defense: ${card.defense}|"></span>
								        </p>
								        <hr>
								  		<form th:action="@{/decks/remove-from-deck/{card}/{deck}(card=${card.id}, deck=${deckId})}" method="post">
								  			<div class="text-center"><button class="btn bg-warning">REMOVE</button></div>
								  		</form>
							        </div>
		    					</div>
		    					<div th:case="Epic" class="card" style="-webkit-transform: scale(0.8, 0.8); border-width:8px !important; border-color: orange !important">
		    						<img th:src="${card.url}" style="width: 17rem; height: 12rem;" class="card-img-top img-thumbnail px-auto" alt="Card Image">
						        	<div class="card-body">
								    	<h5 class="card-title" th:text="${card.name}"></h5>
								        <hr>
								        <p class="card-text text-center">
								        	<span class="bg-danger rounded p-1" th:text="|Attack: ${card.power}|"></span>
								        	<span class="bg-success rounded p-1" th:text="|Defense: ${card.defense}|"></span>
								        </p>
								        <hr>
								  		<form th:action="@{/decks/remove-from-deck/{card}/{deck}(card=${card.id}, deck=${deckId})}" method="post">
								  			<div class="text-center"><button class="btn bg-warning">REMOVE</button></div>
								  		</form>
							        </div>
		    					</div>
		    					<div th:case="Legendary" class="card" style="-webkit-transform: scale(0.8, 0.8); border-width:8px !important; border-color: red !important">
		    						<img th:src="${card.url}" style="width: 17rem; height: 12rem;" class="card-img-top img-thumbnail px-auto" alt="Card Image">
						        	<div class="card-body">
								    	<h5 class="card-title" th:text="${card.name}"></h5>
								        <hr>
								        <p class="card-text text-center">
								        	<span class="bg-danger rounded p-1" th:text="|Attack: ${card.power}|"></span>
								        	<span class="bg-success rounded p-1" th:text="|Defense: ${card.defense}|"></span>
								        </p>
								        <hr>
								  		<form th:action="@{/decks/remove-from-deck/{card}/{deck}(card=${card.id}, deck=${deckId})}" method="post">
								  			<div class="text-center"><button class="btn bg-warning">REMOVE</button></div>
								  		</form>
							        </div>
		    					</div>
		    					<div th:case="Mythic" class="card" style="-webkit-transform: scale(0.8, 0.8); border-width:8px !important; border-color: black !important">
		    						<img th:src="${card.url}" style="width: 17rem; height: 12rem;" class="card-img-top img-thumbnail px-auto" alt="Card Image">
						        	<div class="card-body">
								    	<h5 class="card-title" th:text="${card.name}"></h5>
								        <hr>
								        <p class="card-text text-center">
								        	<span class="bg-danger rounded p-1" th:text="|Attack: ${card.power}|"></span>
								        	<span class="bg-success rounded p-1" th:text="|Defense: ${card.defense}|"></span>
								        </p>
								        <hr>
								  		<form th:action="@{/decks/remove-from-deck/{card}/{deck}(card=${card.id}, deck=${deckId})}" method="post">
								  			<div class="text-center"><button class="btn bg-warning">REMOVE</button></div>
								  		</form>
							        </div>
			        			</div>
		    				</th:block>
			        	</th:block>
			        	</div>
	    			</th:block>
    				</div>
				</div> 
        </div>
    </main>
    <footer>
    	<th:block th:include="~{fragments/footer}">
    	</th:block>
	</footer>
</body>
</html>